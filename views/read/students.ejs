<% layout("layouts/boilerplate") -%>

<div class="container my-3 p-2">
  <div class="d-flex flex-column justify-content-center align-items-start mb-4">
    <h2>Student Data</h2>
    <a href="/students/new" class="btn btn-outline-dark btn-sm mt-2">Add Student</a>
  </div>

  <div class="table-responsive">
    <table class="table table-striped table-bordered">
      <thead class="table-dark">
        <tr>
          <th>ID</th>
          <th>Full Name</th>
          <th>Roll No</th>
          <th>Class</th>
          <th>Age</th>
          <th>DOB</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <% for(const std of students) { const hireDate = new
        Date(std.date_of_birth); const formattedDate =
        hireDate.toLocaleDateString('en-GB', { year: 'numeric', month: 'short',
        day: '2-digit' }); %>
        <tr>
          <td><%= std.student_id %></td>
          <td><%= std.full_name %></td>
          <td><%= std.roll_no %></td>
          <td><%= std.class_level %>th</td>
          <td><%= std.age %></td>
          <td><%= formattedDate %></td>
          <td class="text-center">
            <a
              href="/students/<%= std.student_id %>"
              class="btn btn-outline-danger btn-sm"
            >
              <i class="bi bi-trash"></i>
            </a>
          </td>
        </tr>
        <% } %>
      </tbody>
    </table>
  </div>
</div>
